{"version":3,"sources":["CopyButton.jsx","lib.js","App.jsx","reportWebVitals.js","index.js"],"names":["CopyButton","text","updateClipboard","newClip","a","navigator","clipboard","writeText","e","console","log","Button","variant","size","onClick","icon","faClipboard","postData","url","data","fetch","method","headers","Accept","body","JSON","stringify","response","json","App","useState","output","setOutput","approvalNeeded","setApprovalNeeded","useEffect","localStorage","getItem","super_admin_list","className","Form","Group","File","id","label","multiple","accept","onChange","event","fileObj","target","files","reader","FileReader","readAsText","onload","process","date","csv","result","setItem","names","sort","join","onerror","error","uploadFile","length","split","map","name","removeItem","filename","Date","toISOString","content","contentType","document","createElement","file","Blob","type","href","URL","createObjectURL","download","click","revokeObjectURL","downloadToFile","Table","striped","bordered","hover","slice","line","num","created","start","end","hrs","ot","rate","hol","pay","total","Number","parseFloat","toFixed","style","color","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.933307e8.chunk.js","sourcesContent":["import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faClipboard } from \"@fortawesome/free-solid-svg-icons\";\r\nimport Button from \"react-bootstrap/Button\";\r\n\r\nconst CopyButton = ({ text }) => {\r\n  const updateClipboard = async (newClip) => {\r\n    try {\r\n      navigator.clipboard.writeText(newClip);\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Button\r\n        variant=\"outline-secondary\"\r\n        size=\"sm\"\r\n        onClick={() => updateClipboard(text)}\r\n      >\r\n        <FontAwesomeIcon icon={faClipboard} />\r\n      </Button>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CopyButton;\r\n","export const updateClipboard = async (newClip) => {\r\n  try {\r\n    navigator.clipboard.writeText(newClip);\r\n  } catch (e) {\r\n    console.log(e);\r\n  }\r\n};\r\n\r\nexport const postData = async (url = \"\", data = {}) => {\r\n  // Default options are marked with *\r\n  const response = await fetch(url, {\r\n    method: \"POST\", // *GET, POST, PUT, DELETE, etc.\r\n    // mode: \"cors\", // no-cors, *cors, same-origin\r\n    // cache: \"no-cache\", // *default, no-cache, reload, force-cache, only-if-cached\r\n    // credentials: \"same-origin\", // include, *same-origin, omit\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      // 'Content-Type': 'application/x-www-form-urlencoded',\r\n    },\r\n    body: JSON.stringify(data), // body data type must match \"Content-Type\" header\r\n  });\r\n  return response.json(); // parses JSON response into native JavaScript objects\r\n};\r\n","import { useState, useEffect } from \"react\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Table from \"react-bootstrap/Table\";\r\n// import DatePicker from \"react-datepicker\";\r\nimport CopyButton from \"./CopyButton\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { updateClipboard, postData } from \"./lib\";\r\n\r\nconst downloadToFile = (content, filename, contentType) => {\r\n  const a = document.createElement(\"a\");\r\n  const file = new Blob([content], { type: contentType });\r\n\r\n  a.href = URL.createObjectURL(file);\r\n  a.download = filename;\r\n  a.click();\r\n\r\n  URL.revokeObjectURL(a.href);\r\n};\r\n\r\nconst App = () => {\r\n  const date = \"2021-01-01\";\r\n  const [output, setOutput] = useState(\"\");\r\n  const [approvalNeeded, setApprovalNeeded] = useState(\"\");\r\n\r\n  const handleClickDownload = () => {\r\n    const filename =\r\n      \"Holiday Pay Adjustments\" + new Date().toISOString() + \".csv\";\r\n    downloadToFile(output, filename, \"text/csv\");\r\n  };\r\n\r\n  const uploadFile = (event) => {\r\n    const fileObj = event.target.files[0]; // We've not allowed multiple files.\r\n    const reader = new FileReader();\r\n\r\n    try {\r\n      reader.readAsText(fileObj); // read the filek\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n\r\n    reader.onload = async () => {\r\n      console.log(\"POSTING...\");\r\n      const { csv, super_admin_list } = await postData(\r\n        process.env.REACT_APP_API_URL,\r\n        {\r\n          date,\r\n          csv: reader.result,\r\n        }\r\n      );\r\n      setOutput(csv);\r\n      localStorage.setItem(\"output\", csv);\r\n      if (super_admin_list) {\r\n        const names = super_admin_list.sort().join(\", \");\r\n        setApprovalNeeded(names);\r\n        localStorage.setItem(\"super_admin_list\", names);\r\n      }\r\n    };\r\n\r\n    reader.onerror = () => {\r\n      console.log(reader.error);\r\n    };\r\n  };\r\n\r\n  const clearData = () => {\r\n    setOutput(\"\");\r\n    setApprovalNeeded(\"\");\r\n    localStorage.removeItem(\"output\");\r\n    localStorage.removeItem(\"super_admin_list\");\r\n  };\r\n\r\n  useEffect(() => {\r\n    const data = localStorage.getItem(\"output\");\r\n    const super_admin_list = localStorage.getItem(\"super_admin_list\");\r\n    if (data) {\r\n      setOutput(data);\r\n      setApprovalNeeded(super_admin_list);\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Form>\r\n        <Form.Group>\r\n          <Form.File\r\n            id=\"fileChooser\"\r\n            label=\"Choose a file created by clicking 'Export CSV' in Booker Timecards with 'Type: HOURLY' and 'Status: preapproved' filters set.\"\r\n            multiple={false}\r\n            accept=\".csv,.txt,text/csv,text/plain\"\r\n            onChange={(event) => uploadFile(event)}\r\n          />\r\n        </Form.Group>\r\n      </Form>\r\n      {approvalNeeded && approvalNeeded.length ? (\r\n        <>\r\n          <h3>Admin Approval Needed For:</h3>\r\n          {approvalNeeded.split(\", \").map((name) => (\r\n            <span onClick={() => updateClipboard(name)}>{name},</span>\r\n          ))}\r\n        </>\r\n      ) : null}\r\n\r\n      {output ? (\r\n        <div id=\"outputDisplay\">\r\n          <div className=\"float-right\">\r\n            <Button variant=\"danger\" onClick={clearData}>\r\n              Reset\r\n            </Button>\r\n            <Button variant=\"info\" onClick={handleClickDownload}>\r\n              Download\r\n            </Button>\r\n          </div>\r\n          <Table striped bordered hover>\r\n            <thead>\r\n              <tr>\r\n                <th>#</th>\r\n                <th>Created At</th>\r\n                <th>Worker</th>\r\n                <th>Start Time</th>\r\n                <th>End Time</th>\r\n                <th>Total Hours</th>\r\n                <th>Overtime</th>\r\n                <th>Pay Rate</th>\r\n                <th>Memo</th>\r\n                <th>Adjustment</th>\r\n                <th>Total</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {output\r\n                .split(\"\\n\")\r\n                .slice(1)\r\n                .map((line) => (\r\n                  <tr>\r\n                    {(() => {\r\n                      const [\r\n                        num,\r\n                        created,\r\n                        name,\r\n                        start,\r\n                        end,\r\n                        hrs,\r\n                        ot,\r\n                        rate,\r\n                        hol,\r\n                        pay,\r\n                        total,\r\n                      ] = line.split(\",\");\r\n                      return (\r\n                        <>\r\n                          <td>{num}</td>\r\n                          <td>{created}</td>\r\n                          <td>\r\n                            {name}\r\n                            <div className=\"float-right\">\r\n                              <CopyButton text={name} />\r\n                            </div>\r\n                          </td>\r\n                          <td>{start}</td>\r\n                          <td>{end}</td>\r\n                          <td>{hrs}</td>\r\n                          <td>{ot}</td>\r\n                          <td>${rate}</td>\r\n                          <td>\r\n                            {hol} HOL\r\n                            <div className=\"float-right\">\r\n                              <CopyButton text={hol + \" HOL\"} />\r\n                            </div>\r\n                          </td>\r\n                          <td>\r\n                            ${pay}\r\n                            <div className=\"float-right\">\r\n                              <CopyButton\r\n                                text={Number.parseFloat(pay).toFixed(2)}\r\n                              />\r\n                            </div>\r\n                          </td>\r\n                          {Number.parseFloat(total) >= 2000 ? (\r\n                            <td style={{ color: \"red\" }}>${total}</td>\r\n                          ) : (\r\n                            <td>${total}</td>\r\n                          )}\r\n                        </>\r\n                      );\r\n                    })()}\r\n                  </tr>\r\n                ))}\r\n            </tbody>\r\n          </Table>\r\n        </div>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}